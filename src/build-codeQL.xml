<project name="PhenoGen" default="build" basedir=".">

    <property file="build.properties"/>


    <path id="jar-classpath">

    </path>


    <path id="compile-classpath">
        <fileset dir="./WEB-INF/lib">
            <include name="*.jar"/>
        </fileset>
        <path refid="jar-classpath"/>
    </path>

    <path id="run.classpath">
        <path refid="compile-classpath"/>
        <pathelement location="${dest-dir}"/>
    </path>


    <target name="init"
            description="Initialize properties.">
        <echo message="Initializing properties..."/>
        <tstamp>
            <format property="TODAY_US" pattern="MMMM-dd-yyyy hh:mm aa" locale="en,US"/>
        </tstamp>
        <echo message="${TODAY_US}"/>
    </target>

    <target name="prepare" depends="init">
        <echo message="Cleaning up the build and dist directories."/>
        <delete dir="${build-dir}"/>
        <mkdir dir="${build-dir}"/>
        <delete dir="${dist-dir}"/>
        <mkdir dir="${dist-dir}"/>
    </target>


    <target name="timestamp">
        <tstamp>
            <format property="current.time" pattern="MMMM-dd-yyyy hh:mm:ss aa" locale="en,US"/>
        </tstamp>

        <echo message="${message} ${current.time}"/>
    </target>


    <target name="compile" depends="init"
            description="Compiles the source code">
        <echo message="Compiling the source code...."/>
        <property name="displayClasspath" refid="compile-classpath"/>

        <echo message="src dir= ${src-dir}"/>
        <javac
                srcdir="${src-dir}"
                destdir="${dest-dir}"
                excludes="*.properties,*.xml"
                deprecation="true">
            <!-- compile with warnings except disable path warnings -->
            <compilerarg value="-Xlint:unchecked"/>
            <!-- <compilerarg value="-Xlint:-path"/> -->
            <classpath refid="compile-classpath"/>
        </javac>
    </target>


    <!-- <target name="build" depends="compile, reload-tomcat" -->
    <target name="build" depends="compile"
            description="Executes the targets needed to build the service.">
        <echo message="Building project...."/>
    </target>

</project>
